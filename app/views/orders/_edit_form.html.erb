<%= form_for(@order) do |f| %>
  <% if @order.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% @order.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div id="order_vitals_edit">
    <div class="field">
      <b><%= f.label :customer %>: <%= @order.customer.name %></b>
    </div>

    <div class="field">
      <b><%= f.label :order %>: <%= @order.order_number %></b>
    </div>
  </div>

  <div id="order_dates">
    <div class="field">
      <b><%= f.label :completion_date %></b>
      <%= f.text_field :completion_date, :value => date_mdY(@order.completion_date), :class => 'datepicker', style: "text-align: right" %>
    </div>

    <div class="field">
      <b><%= f.label :quantity %></b>
      <%= f.number_field :quantity %>
    </div>
  </div>

  <p class="clearboth"></p>

  <div id="edit_description">
    <div class="field">
      <b><%= f.label :description, style: "vertical-align: top;" %></b>
      <%= f.text_area :description, cols: 60, rows: 2 %>
    </div>
  </div>


  <div id="order_drop_down_edits">
    <div id="materials_and_vendors_edit">
      <%= render :partial => "materials", :locals => {:f => f} %>

      <%= render :partial => "vendors", :locals => {:f => f} %>
    </div>
    <div id="labor_and_equipmentals_edit">
      <%= render :partial => "labors", :locals => {:f => f} %>

      <%= render :partial => "equipmentals", :locals => {:f => f} %>
    </div>
  </div>

  <p class="clearboth"></p>

  <div class="field" style="padding-top: 8px;">
    <%= f.label :incidentals %>
    <%= f.text_field :incidentals, data: {autonumeric: {aSign: '$', mDec: 2}}, class: 'donuts', style: "text-align: right" %>
  </div>

  <div id="order_submit">
    <div class="actions">
      <%= f.submit %>
    </div>
  </div>
<% end %>
